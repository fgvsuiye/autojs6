<div align="center">
<h1><a >小米社区自动化脚本</a></h1>

</div>

## **项目介绍**
#### 原作者：  @PJxiaoyu  
#### 修改： 风中拾叶 
* 此脚本是基于AutoJs6，依靠安卓无障碍服务的小米社区自动化脚本
* 支持的功能：
  * 定时解锁手机（密码，图案）
  * 浏览帖子
  * 签到验证码识别
  * 社区各种成长值任务
  * 小程序签到
  * 成长值记录
  * ......



## **使用说明**
1. 下载autojs6
   * [点击去下载](https://github.com/SuperMonster003/AutoJs6/releases)

2. 下载脚本及模型文件
   * [点击去下载](https://github.com/fgvsuiye/autojs6/releases/tag/YoloModelAndPlugins)（***XiaoMiSign.7z***）


3. 解压
   * 将压缩包内所有文件解压至autojs工作路径（默认为`/storage/emulated/0/脚本/` ）内   
4. 安装Yolo模型插件
   * 安装`/yolov11`文件夹下的`Yolo-Plugins.apk`。

5. 修改配置
   * 打开`/tmp/`文件夹下的`config.js`文件，按照注释根据自己的情况修改配置项。
6. 给权限
   * 给予autojs6各种权限（悬浮窗、显示在其它应用上层、后台弹出界面、通知、截图、投影媒体权限等）autojs6侧边栏尽量全部给予。

7. 运行`main.js`以开始自动化，首次运行请关注运行状态。
    *  
### 文件说明
```
/
├── tmp/                 # 临时文件目录
│   ├── config.js        # 配置文件
│   ├── level.txt        # 成长值记录文件
│   └── pic.png          # 验证码图片
├── yolov11/            
│   ├── model/           # 模型文件目录
│   │   ├── yzm.bin
│   │   └── yzm.param
│   ├── Yolo-Plugins.apk # Yolo插件
│   └── yolov11.js       
├── main.js              # 主程序文件
└── README.md            # 说明文档
```

## **注意事项**

* #### 小米社区解锁资格审查添加以下内容：
  > $\color{red}{是否有使用脚本或其他不当手段在小米社区获取成长值的行为}$
  * 此限制可能针对调用社区接口的方式来获取成长值，，虽然此脚本依靠无障碍服务模拟真人操作，但是也可能存在被检测的风险。
  使用此脚本可能会被检测导致进入黑名单。
* Auto.js需要各种权限，左侧边栏内的权限都打开可解决大部分问题！！

* ~~由于验证码识别为上传至个人服务器识别，所以可能会出现服务器繁忙或无响应导致识别错误~~
* 部分手机需要打开 `后台弹出界面`  的权限，否则无法自动启动社区
* **后期更新可在项目主页点击 ![Code](https://img.picui.cn/free/2025/05/12/6821f63aa8825.png)) 后点击`Download ZIP`下载最新版本，然后解压至原文件夹覆盖即可。**


## **再次说明：**
- 虽然理论上本脚本不会影响社区账户安全，但您需要自行承担使用本脚本的后果
* 如果你担心使用自动化脚本签到会导致被检测拉黑，请不要使用此脚本。

## **更新日志**
### V3.1 (250515) 
 > 1. `新增`检查更新功能。
 > 2. `修复`验证码识别结果可能会返回错误结果。
 > 3. `优化`浏览帖子页面识别。
 > 4. `优化`小程序签到添加更多延迟以防加载缓慢。
### V3.0 (250508) *重要更新*
> 1. 验证码识别本地化，不再依赖服务器。
> 2. 大量优化代码逻辑。
> 3. 修复部分bug并添加新的bug（bushi）。
### V2.2 (250419)
> 1. 修复帖子页面可能识别错误
> 2. 浏览帖子时添加滑动，防止长时间无操作熄屏
> 3. 添加服务器测试
> 4. 现在可以返回明确的错误信息
### V2.1 (250416) 
 > 1. 添加置信度。
>  2. 修改根据控件截图，不再需要手动调整截图范围

### V2.0 (250413) 
 > 1. 添加新的验证码识别。

### V1.1 (250401)
 > 1. 官方签到验证码变更，脚本不再签到，其它活动照常。


### V1.1 (250327)
 > 1. 优化部分控件查找逻辑。
 > 2. 添加部分页面错误后重试。
 > 3. 添加成长值明细日志。
 > 4. 美化日志输出。


### V1.0 (250324)
 > 1. 优化小程序签到。
 > 2. 优化成长值记录


### V0.8 (241210)
 > 1. 感恩季活动上线。

### V0.8 (241102)
 > 1. 支持新版社区浏览帖子。
 > 2. 删除感恩季活动。

### V0.8 (240720)
 > 1. 添加加入圈子活动和感恩季活动。

### V0.8 (240705)
 > 1. 添加解锁方式。

### V0.7
 > 1. 增加了滑动方式，随机选择由快至慢滑动或贝塞尔曲线滑动。

### V0.6
 > 1. 增加签到+1概率、总成长值及当日获取成长值显示并写入文件。
 > 2. 修改滑块识别流程，速度大幅提升。

### V0.5
 > 1. 增加了滑动解锁功能（根据自己解锁图案自行修改）。
 > 2. 增加了米粉节活动（官方活动已下线）。
 > 3. 增加了观看视频任务（官方活动已下线）。
 > 4. 增加了成长值查看输出。
 > 5. 增加了日志输出。
 > 6. 修改了浏览帖子正则表达式，使其能匹配（01-01至12-31）日期格式。
 > 7. 优化了代码结构。
 > 8. 优化了退出程序功能（功能执行完毕或定时器结束后都会停止脚本）。

---
